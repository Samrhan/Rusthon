---
source: tests/complex_control_flow.rs
expression: llvm_ir
---
; ModuleID = 'main'
source_filename = "main"

@int_format_string = private unnamed_addr constant [4 x i8] c"%d\0A\00", align 1

; Function Attrs: nofree norecurse nosync nounwind memory(none)
define i64 @power(i64 %0, i64 %1) local_unnamed_addr #0 {
entry:
  %check_qnan127 = and i64 %1, 9221120237041090560
  %is_float.not.not128 = icmp eq i64 %check_qnan127, 9221120237041090560
  %i64_to_f64129 = bitcast i64 %1 to double
  %extract_payload130 = and i64 %1, 281474976710655
  %is_negative.not131 = icmp ult i64 %extract_payload130, 140737488355328
  %masksel132 = select i1 %is_negative.not131, i64 0, i64 -281474976710656
  %signed_payload133 = or disjoint i64 %masksel132, %extract_payload130
  %payload_to_f64134 = sitofp i64 %signed_payload133 to double
  %final_payload135 = select i1 %is_float.not.not128, double %payload_to_f64134, double %i64_to_f64129
  %cmptmp136 = fcmp ogt double %final_payload135, 0.000000e+00
  br i1 %cmptmp136, label %loop_body.lr.ph, label %loop_exit

loop_body.lr.ph:                                  ; preds = %entry
  %check_qnan16 = and i64 %0, 9221120237041090560
  %is_float17.not.not = icmp eq i64 %check_qnan16, 9221120237041090560
  %i64_to_f6461 = bitcast i64 %0 to double
  %extract_payload62 = and i64 %0, 281474976710655
  %is_negative64.not = icmp ult i64 %extract_payload62, 140737488355328
  %masksel126 = select i1 %is_negative64.not, i64 0, i64 -281474976710656
  %signed_payload66 = or disjoint i64 %masksel126, %extract_payload62
  %payload_to_f6467 = sitofp i64 %signed_payload66 to double
  %final_payload68 = select i1 %is_float17.not.not, double %payload_to_f6467, double %i64_to_f6461
  br label %loop_body

loop_body:                                        ; preds = %loop_body.lr.ph, %loop_body
  %final_payload139 = phi double [ %final_payload135, %loop_body.lr.ph ], [ %final_payload, %loop_body ]
  %is_float.not.not138 = phi i1 [ %is_float.not.not128, %loop_body.lr.ph ], [ %is_float.not.not, %loop_body ]
  %result.0137 = phi i64 [ 9221120237041090561, %loop_body.lr.ph ], [ %pyobject, %loop_body ]
  %check_qnan14 = and i64 %result.0137, 9221120237041090560
  %is_float15.not.not = icmp eq i64 %check_qnan14, 9221120237041090560
  %i64_to_f6451 = bitcast i64 %result.0137 to double
  %extract_payload52 = and i64 %result.0137, 281474976710655
  %is_negative54.not = icmp ult i64 %extract_payload52, 140737488355328
  %masksel125 = select i1 %is_negative54.not, i64 0, i64 -281474976710656
  %signed_payload56 = or disjoint i64 %masksel125, %extract_payload52
  %payload_to_f6457 = sitofp i64 %signed_payload56 to double
  %final_payload58 = select i1 %is_float15.not.not, double %payload_to_f6457, double %i64_to_f6451
  %2 = and i64 %check_qnan16, %result.0137
  %result_is_float.not = icmp eq i64 %2, 9221120237041090560
  %multmp = fmul double %final_payload68, %final_payload58
  %float_to_i64 = bitcast double %multmp to i64
  %payload_to_i64 = fptosi double %multmp to i64
  %payload_masked = and i64 %payload_to_i64, 281474976710655
  %nanboxed = or disjoint i64 %payload_masked, 9221120237041090560
  %pyobject = select i1 %result_is_float.not, i64 %nanboxed, i64 %float_to_i64
  %subtmp = fadd double %final_payload139, -1.000000e+00
  %float_to_i64109 = bitcast double %subtmp to i64
  %payload_to_i64116 = fptosi double %subtmp to i64
  %payload_masked117 = and i64 %payload_to_i64116, 281474976710655
  %nanboxed120 = or disjoint i64 %payload_masked117, 9221120237041090560
  %pyobject121 = select i1 %is_float.not.not138, i64 %nanboxed120, i64 %float_to_i64109
  %check_qnan = and i64 %pyobject121, 9221120237041090560
  %is_float.not.not = icmp eq i64 %check_qnan, 9221120237041090560
  %i64_to_f64 = bitcast i64 %pyobject121 to double
  %extract_payload = and i64 %pyobject121, 281474976710655
  %is_negative.not = icmp ult i64 %extract_payload, 140737488355328
  %masksel = select i1 %is_negative.not, i64 0, i64 -281474976710656
  %signed_payload = or disjoint i64 %masksel, %extract_payload
  %payload_to_f64 = sitofp i64 %signed_payload to double
  %final_payload = select i1 %is_float.not.not, double %payload_to_f64, double %i64_to_f64
  %cmptmp = fcmp ogt double %final_payload, 0.000000e+00
  br i1 %cmptmp, label %loop_body, label %loop_exit

loop_exit:                                        ; preds = %loop_body, %entry
  %result.0.lcssa = phi i64 [ 9221120237041090561, %entry ], [ %pyobject, %loop_body ]
  ret i64 %result.0.lcssa
}

; Function Attrs: nofree nounwind
define noundef i32 @main() local_unnamed_addr #1 {
entry:
  %printf_int = tail call i32 (ptr, ...) @printf(ptr nonnull dereferenceable(1) @int_format_string, i64 1024)
  ret i32 0
}

; Function Attrs: nofree nounwind
declare noundef i32 @printf(ptr nocapture noundef readonly, ...) local_unnamed_addr #1

attributes #0 = { nofree norecurse nosync nounwind memory(none) }
attributes #1 = { nofree nounwind }
